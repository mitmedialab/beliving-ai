# Beliefs about AI shape human-AI interaction and can be manipulated with priming
A repository for the paper "Beliefs about AI shape human-AI interaction and can be manipulated with priming," Nature Machine Intelligence 2023. 

## Notebooks 

### `data_pre_processing`

Processes the data from the CSV survey results and conversation transcripts and saves them into a new CSV. 

### `convo_data_processing`
Processes conversation data from the pre-processed data and saves them into a new CSV. 

### `convo_viz`
Vizualizes conversation data, generating sentiment trend line plots and box plots, in addition to calculating regression statistics. 

### `data_tables` 
Extract statistics about the Likert questions on the survey, including which statistical tests were used, p-value, mean, standard deviation for each item split by assigned motives and by perceived motives. 

### `demographics` 
A few simple vizualizations of demographics. 

### `transcribe` 
Transcribe conversational data from raw spreadsheet data into text files for each conversation. 

### `statistics_viz` 
Calculate statistics and generate bar charts for Likert items. The code for calculating the statistics is in `stat_process.py` in the Include folder. 

### `statistics_draft` 
The notebook used for drafting the code for `stat_process.py`. 

## Code 

`Include/stat_process.py` is used to calculate the statistics and generate plots, particularly for the Likert items of the survey. 

`requirements.txt` contains the packages necessary to download. 

`chatlog.js` a Google Apps Script to be run on Google Sheets to record data from a web interface. It can be added to Google Sheets from Extensions > Apps Script. This is used in combination with a web interface on CodePen, which you can see here (API codes redacted): https://codepen.io/rliu3426/pen/bGQoPyd 

To use the CodePen, you will need to replace the `YOUR OPENAI API KEY HERE` with your OpenAI key. To collect the conversation data in a sheet, you will need to replace `YOUR SHEET API KEY HERE` with the URL generated from the Google Apps script.

## Data

Data is in the Results folder, split into **Motive** and **Eliza_Motive** folders. 

Both of these have datatables generated by `data_tables`, as well as the following folders: 

### `Raw` 
CSV data for surveys and conversations. 

The final raw data files we used were:
- Survey - Generative: `Conversational Agent Study - Motives_July 3, 2022_14.45.csv`
- Conversations - Generative: `Chat Log - Melu Study - Motives_comine.csv`
- Survey - Rule-Based: `Conversational Agent Study E - Motives_September 9, 2022_09.47.csv`
- Conversations - Rule-Based: `Ghost or Shell - Chat Log - 9_9_22 Eliza.csv`

### `Processed` 
Data processed and saved from `data_pre_processing`, as well as conversation data processed and saved from `convo_data_processing`. 

The final data files we used for vizualization were:
- `motive_processed_july4.csv`
- `motive_convo_processed_july7.csv`
- `eliza_motive_processed_sept9.csv`
- `eliza_motive_convo_processed_sept9.csv`

Note that conversation length labeled as "conversation turns" in the data and code, but this refers to the length. 

### `Transcripts` 
Transcript text files made with the `transcribe` notebook. 

### `FreeResponses` 
Text files with free responses about their experiences with the AI agent, including the participant's score for attitudes towards AI and their score for the sentiment of the free response. 
